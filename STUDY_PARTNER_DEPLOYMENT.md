# Study Partner é‹ç”¨ç®¡ç†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**æœ€çµ‚æ›´æ–°**: 2025-10-20  
**ç®¡ç†è€…**: KOBEYA ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™å®¤

---

## âœ… æ­£å¼é‹ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ğŸ¯ å”¯ä¸€ã®æ­£å¼ç‰ˆ

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: `kobeya-study-partner-app`

**æœ¬ç•ªURL**: https://efef1e56.kobeya-study-partner-app.pages.dev/study-partner

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸŸ¢ **LIVE / PRODUCTION**

**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**: `~/restore/sp_final/_x/kobeya_phase1_completed/webapp/`

---

## ğŸš« éæ¨å¥¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆå‚ç…§ã®ã¿ï¼‰

### å±¥æ­´ä¿å…¨ã®ãŸã‚å‰Šé™¤ã—ãªã„ãŒã€ä»Šå¾Œä½¿ç”¨ç¦æ­¢

| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ | ç”¨é€” |
|--------------|----------|----------|------|
| kobeya-studypartner-full | ğŸ”´ DEPRECATED | âš ï¸ ç„¡åŠ¹åŒ–æ¸ˆã¿ | æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆPhase 0ï¼‰ |
| kobeya-study-partner-working | ğŸ”´ DEPRECATED | âš ï¸ ç„¡åŠ¹åŒ–æ¸ˆã¿ | é–‹ç™ºãƒ†ã‚¹ãƒˆç‰ˆ |
| kobeya-restore-proof | âš ï¸ TEMPORARY | âš ï¸ ç„¡åŠ¹åŒ–æ¸ˆã¿ | ä¸€æ™‚çš„ãªå¾©å…ƒãƒ†ã‚¹ãƒˆç”¨ |

**æ³¨æ„**: ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**å†ãƒ‡ãƒ—ãƒ­ã‚¤ç¦æ­¢**ã€‚å±¥æ­´å‚ç…§ã®ã¿ã€‚

### éæ¨å¥¨ãƒãƒ¼ã‚­ãƒ³ã‚°æ–¹æ³•

**å®Ÿæ–½æ¸ˆã¿**: Production branchå‰Šé™¤ã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ç„¡åŠ¹åŒ–

**æ‰‹é †**:
1. Cloudflare Dashboard â†’ Workers & Pages â†’ Pages
2. å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
3. Settings â†’ Builds & deployments
4. Build configuration â†’ Production branch ã‚’å‰Šé™¤ï¼ˆç©ºç™½ã«ï¼‰
5. Save

**è©³ç´°æ‰‹é †æ›¸**: `/home/user/restore/sp_final/DEPRECATED_PROJECTS_MANUAL.md`

---

## ğŸ”— ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰ã®ãƒªãƒ³ã‚¯

### çµ±åˆãƒã‚¤ãƒ³ãƒˆ

**ãƒšãƒ¼ã‚¸**: AIã‚³ãƒ¼ãƒãƒ³ã‚°ãƒ»ãƒ©ãƒœ (`/courses/ai-coaching`)

**ãƒªãƒ³ã‚¯ç®‡æ‰€**:
1. AIå­¦ç¿’æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ç´¹ä»‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³
2. Spotlightæ©Ÿèƒ½ã‚»ã‚¯ã‚·ãƒ§ãƒ³
3. CTAã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆç„¡æ–™ä½“é¨“ãƒœã‚¿ãƒ³ã®æ¨ªï¼‰

**ãƒªãƒ³ã‚¯å…ˆ**: https://efef1e56.kobeya-study-partner-app.pages.dev/study-partner

**æŒ™å‹•**: åˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã (`target="_blank"`)

**æœ€çµ‚ãƒ‡ãƒ—ãƒ­ã‚¤**: 
- Date: 2025-10-20
- Commit: `4f1f05e`
- Message: "Link AI Coaching Lab to new Study Partner project (kobeya-study-partner-app)"

---

## ğŸ” å¿…è¦ãªSecretsï¼ˆCloudflare Pagesï¼‰

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: kobeya-study-partner-app

| Secretå | å¿…é ˆ | ç”¨é€” | è¨­å®šæ¸ˆã¿ |
|---------|------|------|---------|
| OPENAI_API_KEY | âœ… | OpenAI APIé€£æºï¼ˆGPT-4oï¼‰ | âš ï¸ è¦è¨­å®š |
| APP_KEY | âš ï¸ | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èªè¨¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | âš ï¸ è¦è¨­å®š |

**è¨­å®šã‚³ãƒãƒ³ãƒ‰**:
```bash
# OpenAI API Keyï¼ˆå¿…é ˆï¼‰
npx wrangler pages secret put OPENAI_API_KEY --project-name kobeya-study-partner-app

# APP_KEYï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å‹•ä½œå¯èƒ½ï¼‰
npx wrangler pages secret put APP_KEY --project-name kobeya-study-partner-app
```

**âš ï¸ æ³¨æ„**: Secretå€¤ã¯ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã—ãªã„ã€‚ç®¡ç†è€…ã®ã¿ãŒçŸ¥ã‚‹æƒ…å ±ã€‚

---

## ğŸ“¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
~/restore/sp_final/_x/kobeya_phase1_completed/webapp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.tsx (ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
â”‚   â”œâ”€â”€ study-partner-simple.tsx
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ logging.ts
â”‚       â”œâ”€â”€ session-logger.ts
â”‚       â””â”€â”€ ai-tag-inference.ts
â”œâ”€â”€ public/
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ app.js
â”‚       â””â”€â”€ styles.css
â”œâ”€â”€ dist/ (ãƒ“ãƒ«ãƒ‰æˆæœç‰©)
â”‚   â”œâ”€â”€ _worker.js
â”‚   â”œâ”€â”€ _routes.json
â”‚   â””â”€â”€ static/
â”œâ”€â”€ migrations/ (D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ - ç¾åœ¨æœªä½¿ç”¨)
â”œâ”€â”€ wrangler.jsonc (Cloudflareè¨­å®š)
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

### ä¸»è¦æ©Ÿèƒ½

1. **èªè¨¼**: APP_KEY + ç”Ÿå¾’IDï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å³ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½ï¼‰
2. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ã‚«ãƒ¡ãƒ©æ’®å½± / ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
3. **ç”»åƒã‚¯ãƒ­ãƒƒãƒ—**: Cropper.jsçµ±åˆ
4. **AIè§£æ**: OpenAI GPT-4o ã«ã‚ˆã‚‹æ®µéšå­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ 
5. **AIè³ªå•**: åˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
6. **æ®µéšå­¦ç¿’**: ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®å­¦ç¿’æ”¯æ´

### å®Ÿè£…äºˆå®šæ©Ÿèƒ½ï¼ˆdisabledï¼‰

- ğŸ“š è‹±æ¤œå¯¾ç­–
- ğŸ“ å°è«–æ–‡å¯¾ç­–
- ğŸŒ ã‚¤ãƒ³ã‚¿ãƒ¼ç”Ÿç”¨
- ğŸƒ ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### æ–°è¦ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç·Šæ€¥æ™‚ã®ã¿ï¼‰

```bash
# 1. ã‚½ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~/restore/sp_final/_x/kobeya_phase1_completed/webapp/

# 2. ãƒ“ãƒ«ãƒ‰
npm run build

# 3. ãƒ‡ãƒ—ãƒ­ã‚¤
npx wrangler pages deploy dist \
  --project-name kobeya-study-partner-app \
  --commit-message "Emergency deployment - [ç†ç”±ã‚’è¨˜è¼‰]"
```

### æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å†ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ç¦æ­¢

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯**çµ¶å¯¾ã«å®Ÿè¡Œã—ãªã„**ï¼š

```bash
# âŒ ç¦æ­¢
npx wrangler pages deploy dist --project-name kobeya-studypartner-full
npx wrangler pages deploy dist --project-name kobeya-study-partner-working
```

---

## ğŸ” å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã¯å¿…ãšä»¥ä¸‹ã‚’ç¢ºèªï¼š

- [ ] **ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸è¡¨ç¤º**: `/study-partner`ã«ã‚¢ã‚¯ã‚»ã‚¹
- [ ] **ID/APP_KEYå…¥åŠ›æ¬„**: åˆæœŸå€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆJS2-04 / 180418ï¼‰
- [ ] **ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³**: ã‚¯ãƒªãƒƒã‚¯ã§ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
- [ ] **AIã«è³ªå•ãƒœã‚¿ãƒ³**: åˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã
- [ ] **å†™çœŸã‚’æ’®ã‚‹ãƒœã‚¿ãƒ³**: ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [ ] **ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰é¸æŠ**: ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
- [ ] **ç”»åƒã‚¯ãƒ­ãƒƒãƒ—**: Cropper.jsãŒæ­£å¸¸å‹•ä½œ
- [ ] **OpenAIé€£æº**: ç”»åƒé€ä¿¡å¾Œã«AIå¿œç­”ãŒè¿”ã‚‹ï¼ˆAPIã‚­ãƒ¼è¨­å®šæ¸ˆã¿ã®å ´åˆï¼‰

---

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: OpenAI APIã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

**åŸå› **: OPENAI_API_KEY ãŒæœªè¨­å®šã¾ãŸã¯ç„¡åŠ¹

**è§£æ±ºç­–**:
```bash
npx wrangler pages secret put OPENAI_API_KEY --project-name kobeya-study-partner-app
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§APIã‚­ãƒ¼ã‚’å…¥åŠ›
```

### å•é¡Œ: ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„

**ç—‡çŠ¶**: ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼

**åŸå› **: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®å•é¡Œ

**è§£æ±ºç­–**:
1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèª
2. Cloudflare Pages ã®ãƒ­ã‚°ã‚’ç¢ºèª
3. å¿…è¦ã«å¿œã˜ã¦å†ãƒ‡ãƒ—ãƒ­ã‚¤

### å•é¡Œ: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒªãƒ³ã‚¯ãŒæ©Ÿèƒ½ã—ãªã„

**ç—‡çŠ¶**: AIã‚³ãƒ¼ãƒãƒ³ã‚°ãƒ»ãƒ©ãƒœã‹ã‚‰Study Partnerã«é·ç§»ã§ããªã„

**åŸå› **: URLãŒå¤‰æ›´ã•ã‚ŒãŸã€ã¾ãŸã¯ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå¤±æ•—

**è§£æ±ºç­–**:
1. ãƒªãƒ³ã‚¯å…ˆURLãŒæ­£ã—ã„ã‹ç¢ºèª: `https://efef1e56.kobeya-study-partner-app.pages.dev/study-partner`
2. Study Partnerãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ…‹ã‚’ç¢ºèª
3. å¿…è¦ã«å¿œã˜ã¦ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ãƒªãƒ³ã‚¯ã‚’ä¿®æ­£

---

## ğŸ“Š é‹ç”¨ãƒ«ãƒ¼ãƒ«

### âœ… æ¨å¥¨ã•ã‚Œã‚‹é‹ç”¨

1. **å®šæœŸçš„ãªå‹•ä½œç¢ºèª**: æœˆ1å›ã€å…¨æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ
2. **Secretsæ›´æ–°**: API Keyã®æœ‰åŠ¹æœŸé™ç®¡ç†
3. **ãƒ­ã‚°ç›£è¦–**: Cloudflare Pagesã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
4. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

### âŒ ç¦æ­¢äº‹é …

1. **è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸¦è¡Œé‹ç”¨**: `kobeya-study-partner-app`ã®ã¿ä½¿ç”¨
2. **éæ¨å¥¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤**: å±¥æ­´ä¿å…¨ã®ãŸã‚å¤‰æ›´ç¦æ­¢
3. **æœ¬ç•ªç’°å¢ƒã§ã®ç›´æ¥ä¿®æ­£**: å¿…ãšãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰â†’ãƒ‡ãƒ—ãƒ­ã‚¤
4. **Secretå€¤ã®å…±æœ‰**: GitHubã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ç¦æ­¢

---

## ğŸ“ å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | æ‹…å½“è€… |
|-----|---------|--------|
| 2025-10-20 | åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº† | AI Code Assistant |
| 2025-10-20 | ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯çµ±åˆ | AI Code Assistant |

---

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **Cloudflare Dashboard**: https://dash.cloudflare.com/
- **Project URL**: https://dash.cloudflare.com/ â†’ Pages â†’ kobeya-study-partner-app
- **GitHub Repository**: ï¼ˆå¿…è¦ã«å¿œã˜ã¦è¨­å®šï¼‰

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã€è§£æ±ºã—ãªã„å ´åˆã¯Cloudflareã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ãã ã•ã„ã€‚

**é‡è¦**: Secretå€¤ã‚„æ©Ÿå¯†æƒ…å ±ã¯çµ¶å¯¾ã«ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆã«å«ã‚ãªã„ã“ã¨ã€‚
